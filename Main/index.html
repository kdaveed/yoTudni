<!DOCTYPE html>
<html lang="en-US">

<head>

	<link rel="stylesheet" href="../CSS/main.css" type="text/css">
	<script src="../JS/subjectData.js"></script>
	<script src="/Users/konkolydavid/Webdesign/Angular/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular-animate.js"></script>
</head>

<body  ng-app="myApp">

	<!-- Template -->
  <script type="text/ng-template" id="mosaik1.html">
		<div class="secondary" ng-class="{'expanded' : $ctrl.expand }" style="background-color : {{$ctrl.subject.color}}" 
			ng-click="$ctrl.click($ctrl.subject.color)">
			<img src="../img/{{$ctrl.subject.imgName}}" class = "secondaryImage"> 
			<subject-description ng-hide="$ctrl.hideContent" subject-name='$ctrl.subject.name'></subject-description>
		</div>			
  </script>
  
  <script type="text/ng-template" id="subjectDescription.html">
		<div ng-switch="$ctrl.subjectName" class="sample-show-hide subjectContent">
			<div ng-switch-when="matek"> <math-description></math-description></div>
			<div ng-switch-default> <general-description></general-description></div>
		</div> 	
  </script>
  
  <script type="text/ng-template" id="mathDescription.html">
		Math is great.
  </script>
  
  <script type="text/ng-template" id="generalDescription.html">
		Others are great as well.
  </script>  
  
  <div ng-controller="simpleController">
	 <mosaik subject="subjects.matek"></mosaik>
	 <mosaik subject="subjects.fizika"></mosaik>
	 <mosaik subject="subjects.biologia"></mosaik>
	 <mosaik subject="subjects.kemia"></mosaik>
  </div>
  <script>

  		var app = angular.module("myApp", ["ngAnimate"])
		app.controller("simpleController", function ($scope)
		{
			
			$scope.subjectState = 1
		  	$scope.secondState = function(){
				$scope.subjectState = 2	
			}

			$scope.current = "matek"
			$scope.secShow = {
				matek : false,
				biosz : true,
				fizika : true,
				angol : true,
			}	
			
			$scope.second = function(name){
				$scope.secShow[name] = false
				$scope.secShow[$scope.current] = true
				$scope.current = name
			}
			
			$scope.click = function(num){
				alert(num)
			}
			
			$scope.hide = function(index){
				
			}
			
			$scope.subjects = subjectData 
		
		});
  		
  		function MosaikController($scope, $element, $attrs){
  			
  			//var ctrl = this
  			this.hideContent = true
  			this.expand = false
  			this.click = function(value){
  				this.hideContent = false
				this.expand = true
  				console.log(this.hideContent)
  			}
  		}
  		
  		app.component("mosaik", {
  			//restrict : 'E',
  			controller : MosaikController,
	  	  	bindings : {
	  	          //subject : '=subject',
	  	          subject : "<",
	  	          //click : "&"
	  	    },
	  	    templateUrl : 'mosaik1.html'
  		})
  		
  		app.component("subjectDescription", {
  			//controller : SubjectDescriptionController,
  			bindings : {
  				subjectName : "<",
  			},
  			templateUrl : "subjectDescription.html"
  		})
  		
  		app.component("mathDescription", {
  			bindings : {
  				subjectName : "<",
  			},
  			templateUrl : "mathDescription.html"
  		})
  		
  		app.component("generalDescription", {
  			bindings : {
  				subjectName : "<",
  			},
  			templateUrl : "generalDescription.html"
  		})
  		
  		
</script>
</body>
</html>





